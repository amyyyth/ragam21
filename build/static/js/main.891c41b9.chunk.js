(this["webpackJsonpragam-frontend"]=this["webpackJsonpragam-frontend"]||[]).push([[0],{197:function(e,t,s){},198:function(e,t,s){},298:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),n=s(30),r=s.n(n),o=(s(197),s(21)),c=(s(198),s(153)),l=s(303),d=s(189),u=s(38),j=s(308),g=s(304),b=s(309),m=s(190),h=s(311),p=s(306),f=s(86),x=s.n(f),v=s(312),O=s(32),y=s(27),D=s.p+"static/media/white_logo.95afc66e.png",w=s(3);var E=function(e){var t,s=x()({maxFontSize:500,minFontSize:150}),a=(s.fontSize,s.ref,Object(O.f)());return Object(w.jsx)("div",{className:"header_main",children:Object(w.jsxs)("div",{className:"header_dash",style:{backgroundImage:"url(".concat(e.dashimg,")")},children:[Object(w.jsxs)("div",{className:"header_buttons",children:[Object(w.jsx)("div",{className:"header_backbtn",children:e.showBack&&Object(w.jsx)(u.a,{"data-test-id":"back-btn",id:"Header_Back",shape:"circle",icon:Object(w.jsx)(h.a,{}),onClick:function(){return e.backonClick?e.backonClick():a.goBack()}})}),Object(w.jsx)(y.b,{to:"/",id:"Header_Logo",children:Object(w.jsx)("img",{className:"header_logo",src:D,alt:"logo"})}),Object(w.jsx)("div",{className:"header_profile",children:(null===(t=e.user)||void 0===t?void 0:t.isLoggedIn)?Object(w.jsx)(y.b,{"data-test-id":"profile-btn",to:"/profile/",id:"Header_Profile",children:Object(w.jsx)(p.a,{icon:Object(w.jsx)(v.a,{})})}):Object(w.jsx)(y.b,{to:"/login",children:Object(w.jsx)(u.a,{"data-test-id":"login-btn",type:"primary",size:"small",children:"Login"})})})]}),Object(w.jsx)("div",{className:"header_title",children:Object(w.jsx)("h3",{children:Object(w.jsx)("b",{children:e.mainText})})})]})})};function S(){return Object(w.jsx)("div",{style:{height:"15px",width:"100%"}})}function I(e){localStorage.removeItem("user");e.setUser({isLoggedIn:!1,token:"",email:"",id:0,name:"",phoneNumber:""})}var C="https://api.ragam.live/",k=s(15),N=s.n(k),R=s.p+"static/media/loading.d5ddd6cb.gif";function L(e){return e.loading?Object(w.jsx)("div",{style:{width:"100vw",height:"100vh",position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",background:"rgb(0,0,0)"},children:Object(w.jsx)("img",{style:{margin:"auto"},src:R,width:"200px"})}):null}var T=c.a.TabPane;function z(e,t){if(e)for(var s=0;s<e.length;s++)if(t==e[s].event)return!1;return!0}function M(e){return e?e.split("\n").map((function(e){return Object(w.jsx)(l.a.Paragraph,{children:e})})):[]}function A(e){var t,s=Object(O.h)().eId,i=Object(a.useState)(!1),n=Object(o.a)(i,2),r=n[0],h=n[1],p=Object(a.useState)(!0),f=Object(o.a)(p,2),x=f[0],v=f[1],D=Object(a.useState)(0),I=Object(o.a)(D,2),k=I[0],R=I[1],A=Object(a.useState)(0),P=Object(o.a)(A,2),U=P[0],F=P[1],B=Object(a.useState)("Register"),Y=Object(o.a)(B,2),W=Y[0],V=Y[1],K=Object(a.useState)(0),G=Object(o.a)(K,2),H=G[0],Z=G[1],X=Object(O.f)();return Object(a.useEffect)((function(){for(var t=0;t<e.categories.length;t++)for(var a=0;a<e.categories[t].events.length;a++)if(e.categories[t].events[a].slug==s){R(t),h(!0),F(a),v(!1),Z(e.categories[t].events[a].id),console.log("got");break}v(e.catLoading)}),[e.categories,e.catLoading]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(L,{loading:x}),Object(w.jsx)(E,{mainText:r?e.categories[k].events[U].name:"Loading...",showBack:!0,dashimg:r?C.slice(0,-1)+(null===(t=e.categories[k].events[U].coverImage)||void 0===t?void 0:t.url):void 0,user:e.user}),Object(w.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[x?Object(w.jsx)("div",{children:" Loading... "}):r?Object(w.jsxs)(w.Fragment,{children:[z(e.userDetails.eventDetails,H)&&Object(w.jsx)("h3",{style:{fontWeight:"bold"},children:e.categories[k].events[U].isRegOpen?"Registration open":N()(e.categories[k].events[U].regStartDate).diff(N()())<0?"Registration closed":"Registration starts on "+N()(e.categories[k].events[U].regStartDate).format("DD MMMM hh:mm a ")}),Object(w.jsxs)("div",{style:{display:"inline-block",marginBottom:"15px"},children:[e.user.isLoggedIn?z(e.userDetails.eventDetails,H)&&e.categories[k].events[U].isRegOpen&&e.userDetails.name&&e.userDetails.phoneNumber&&e.userDetails.collegeName&&Object(w.jsx)(u.a,{type:"primary",className:"buttons",id:"EventDetails_RegButton",icon:Object(w.jsx)(m.a,{}),onClick:function(){return console.log("eventId",H),V("Loading.."),void fetch(C+"user-event-details",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.user.token},body:JSON.stringify({user:{id:e.user.id},event:{id:H}})}).then((function(e){return e.json()})).then((function(t){t.statusCode?d.b.error(t.message,5):(e.getUserEvents(),d.b.success("Registration successful!"),X.push("/myreg/"+e.categories[k].events[U].slug),console.log(t))}),(function(e){console.log(e),d.b.error("Registration was unsuccesful. Please try again")}))},children:W}):e.categories[k].events[U].isRegOpen&&Object(w.jsx)("a",{href:C+"connect/google",onClick:function(){localStorage.setItem("navTo","/event/"+s)},children:Object(w.jsx)(u.a,{type:"primary",className:"buttons",id:"EventDetails_LoginButton",children:"Register"})}),e.user.isLoggedIn&&e.categories[k].events[U].isRegOpen&&(!e.userDetails.name||!e.userDetails.collegeName||!e.userDetails.phoneNumber)&&Object(w.jsx)(y.b,{to:"/editprofile/"+s,id:"EventDetail_CompleteRegistrationButton",children:Object(w.jsx)(u.a,{type:"primary",className:"buttons",children:"Complete Your Profile to Continue"})}),e.user.isLoggedIn&&!z(e.userDetails.eventDetails,H)&&e.userDetails.name&&e.userDetails.phoneNumber&&e.userDetails.collegeName&&Object(w.jsx)(y.b,{to:"/myreg/"+s,id:"EventDetail_myregButton",children:Object(w.jsx)(u.a,{type:"primary",className:"buttons",block:!0,children:"My Registration"})})]}),Object(w.jsx)("div",{children:Object(w.jsxs)(c.a,{defaultActiveKey:"1",centered:!0,tabBarGutter:16,children:[Object(w.jsx)(T,{tab:"Description",style:{width:"800px",maxWidth:"95vw",margin:"auto"},children:Object(w.jsxs)(j.a,{"data-test-id":"description-card",className:"card",children:[0!=e.categories[k].events[U].posterImage.length&&Object(w.jsxs)("div",{className:"noscroll",children:[Object(w.jsx)("div",{style:{whiteSpace:"nowrap",overflowX:"auto"},children:e.categories[k].events[U].posterImage.map((function(e){return Object(w.jsx)(g.a,{style:{padding:"5px"},width:300,src:C.slice(0,-1)+e.url})}))}),Object(w.jsx)(b.a,{style:{transform:"scale(0.7)",marginBottom:"15px"},message:"Tap on the image to enlarge",showIcon:!0,type:"info"})]}),Object(w.jsx)(l.a.Paragraph,{children:e.categories[k].events[U].description})]})},"1"),Object(w.jsx)(T,{tab:"Rules",style:{width:"800px",maxWidth:"95vw",margin:"auto"},children:Object(w.jsxs)(j.a,{"data-test-id":"rules-card",className:"card",children:[Object(w.jsx)("a",{href:"https://api.ragam.live/uploads/Event_Guidelines_R_21_971f110b9f.pdf",target:"_blank",children:Object(w.jsxs)("h4",{children:[" General guidelines: ",Object(w.jsx)("u",{children:"see here"})]})}),Object(w.jsx)("h4",{style:{marginTop:"10px"},children:Object(w.jsx)("u",{children:"Event Guidelines"})}),M(e.categories[k].events[U].rules).map((function(e){return e}))]})},"2"),Object(w.jsx)(T,{tab:"Contact",style:{width:"800px",maxWidth:"95vw",margin:"auto"},children:Object(w.jsx)(j.a,{"data-test-id":"contact-card",className:"card",children:e.categories[k].events[U].contacts.map((function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:e.name}),Object(w.jsx)("h5",{children:e.phoneNumber}),Object(w.jsx)("br",{})]})}))})},"3"),Object(w.jsx)(T,{tab:"Announcements",style:{width:"800px",maxWidth:"95vw",margin:"auto"},children:Object(w.jsx)(j.a,{"data-test-id":"result-card",className:"card",children:e.categories[k].events[U].result?M(e.categories[k].events[U].result).map((function(e){return e})):"Nothing here yet"})},"4"),")"]})})]}):Object(w.jsx)("div",{children:" 404!! "}),Object(w.jsx)(S,{})]})]})}var P=s(41),U=s(307),F=s(103),B=s(57),Y=s(310),W=s(300);var V=function(e){var t,s;return console.log(null===(t=e.coverImage)||void 0===t?void 0:t.url),Object(w.jsx)("div",{className:"eventCard_mainWrapper",children:Object(w.jsx)(y.b,{to:"/event/"+e.slug,id:"EventCard_"+e.slug,children:Object(w.jsxs)(j.a,{className:"evcard",style:{padding:0,height:"194px",backgroundImage:'url("'.concat(C.slice(0,-1)+(null===(s=e.coverImage)||void 0===s?void 0:s.url),'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"15px"},bodyStyle:{padding:"0px",backgroundColor:"rgba(0,0,0,0.60)",borderRadius:"0 0 15px 15px",color:"#ffff"},hoverable:!0,children:[Object(w.jsx)(l.a.Title,{level:3,style:{fontWeight:"bold",margin:"15px",fontFamily:"Raleway"},ellipsis:{rows:1,expandable:!1},children:e.name}),Object(w.jsx)(l.a.Paragraph,{style:{margin:"15px",height:"66px"},ellipsis:{rows:3,expandable:!1},children:e.description}),Object(w.jsx)(W.a,{style:{marginTop:"10px",marginBottom:"10px"}}),e.isReg?Object(w.jsxs)(F.a,{style:{margin:"15px",marginTop:0},children:[" ",Object(w.jsx)(B.a,{span:8,children:"Registered "}),e.isSubmissionEvent&&Object(w.jsxs)(B.a,{span:16,style:{textAlign:"right"},children:[N()(e.submissionEndDate).diff(N()())<0?"Submissions closed":N()(e.submissionStartDate).diff(N()())>0?"Submission starts on: "+N()(e.submissionStartDate).format("DD MMMM"):"Submission deadline: "+N()(e.submissionEndDate).format("DD MMMM")," "]})]}):Object(w.jsx)("h4",{style:{margin:"15px",marginTop:0},children:e.isRegOpen?"Registration closes on: "+N()(e.regEndDate).format("DD MMMM"):N()(e.regStartDate).diff(N()())>0?"Registration starts on: "+N()(e.regStartDate).format("DD MMMM"):"Registration closed"})]})})})},K=s.p+"static/media/header_default.9d568e1e.jpg";function G(e,t){for(var s in e)if(e[s].event==t)return!0;return!1}function H(e){var t,s=Object(O.h)().cId,i=Object(a.useState)(!1),n=Object(o.a)(i,2),r=n[0],c=n[1],l=Object(a.useState)(0),d=Object(o.a)(l,2),u=d[0],j=d[1],g=Object(a.useState)(!0),b=Object(o.a)(g,2),m=b[0],h=b[1],p=Object(a.useState)(""),f=Object(o.a)(p,2),x=f[0],v=f[1],y=Object(a.useState)(!1),D=Object(o.a)(y,2),I=D[0],k=D[1],N=Object(a.useState)([]),R=Object(o.a)(N,2),T=R[0],z=R[1];return Object(a.useEffect)((function(){if("all-events"==s&&e.categories){for(var t=[],a=0;a<e.categories.length;a++)for(var i=0;i<e.categories[a].events.length;i++)t.push(e.categories[a].events[i]);z(t),c(!0),h(!1)}else for(var n=0;n<e.categories.length;n++){if(e.categories[n].slug==s){c(!0),h(!1),j(n);break}n==e.categories.length-1&&(c(!1),h(!1))}}),[e.categories]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(L,{loading:e.catLoading}),Object(w.jsx)(E,{showBack:!0,mainText:r?"all-events"==s?"All Events":e.categories[u].name:"Loading..",dashimg:r?"all-events"==s?K:C.slice(0,-1)+(null===(t=e.categories[u].bgImage)||void 0===t?void 0:t.url):void 0,user:e.user}),m?Object(w.jsx)("div",{children:"Loading.."}):r?Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"center-align",style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",margin:"auto"},children:Object(w.jsx)("div",{style:{maxWidth:"500px",margin:"auto"},children:Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(w.jsx)("div",{style:{background:"rgba(255,255,255,0.1)"},children:Object(w.jsx)(U.a.Search,{"data-test-id":"search-inp",style:{width:"280px"},size:"large",placeholder:"SEARCH....",onChange:function(e){v(e.target.value)}})}),Object(w.jsxs)(F.a,{style:{marginTop:"15px",width:"100%"},children:[Object(w.jsx)(B.a,{span:18,style:{textAlign:"left"},children:Object(w.jsx)("h4",{children:"Show open for registration only"})}),Object(w.jsx)(B.a,{span:6,style:{textAlign:"right"},children:Object(w.jsx)(Y.a,{"data-test-id":"toggle-btn",style:{marginLeft:"10px"},onClick:function(){k(!I)}})})]})]})})}),Object(w.jsx)("div",{style:{width:"800px",maxWidth:"95vw",margin:"auto"},children:"all-events"==s?T.sort((function(e,t){return e.name>t.name?1:-1})).filter((function(e){return I?e.isRegOpen?e:void 0:e})).map((function(t){return""===x||t.name.toLowerCase().includes(x.toLowerCase())?Object(a.createElement)(V,Object(P.a)(Object(P.a)({},t),{},{key:t.slug,isReg:!!e.user.isLoggedIn&&G(e.userDetails.eventDetails,t.id)})):void 0})):e.categories[u].events.filter((function(e){return I?e.isRegOpen?e:void 0:e})).map((function(t){return""===x||t.name.toLowerCase().includes(x.toLowerCase())?Object(a.createElement)(V,Object(P.a)(Object(P.a)({},t),{},{key:t.slug,isReg:!!e.user.isLoggedIn&&G(e.userDetails.eventDetails,t.id)})):void 0}))}),Object(w.jsx)(S,{})]}):Object(w.jsx)("div",{children:"404!!!"})]})}var Z=s(102),X=s.n(Z),J=s(136),Q=s(133),_=s(305),q=s(302),$=s(177),ee=s.n($),te=s(79);function se(e,t,s){var a=e.length;return a>s?"Your team has "+a+" members. Maximum limit is "+s:a<t?"Your team has "+a+" members. Minimum limit is "+t:""}function ae(e){Object(O.f)();var t=Object(a.useState)(-2),s=Object(o.a)(t,2),i=s[0],n=s[1],r=Object(a.useState)({id:-1,name:"",collegeName:"",ragamID:""}),c=Object(o.a)(r,2),l=c[0],j=c[1],g=Object(a.useState)({type:1,value:"Enter a valid Ragam ID"}),m=Object(o.a)(g,2),h=m[0],p=m[1],f=/^[a-zA-Z]{6}$/;function x(t){_.a.confirm({title:"Remove Teammate ",icon:Object(w.jsx)(te.a,{}),content:Object(w.jsx)("p",{children:"Are you sure you want to Remove "+t.name+" from you team?"}),okText:"OK",cancelText:"Cancel",onOk:function(){!function(t){var s=[];for(var a in e.userEvent.teamMembers)e.userEvent.teamMembers[a].ragamID!=t&&s.push(e.userEvent.teamMembers[a]);fetch(C+"user-event-details/"+e.userEvent.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify(e.isSubmissionEvent?{teamMembers:s,submissions:e.userEvent.submissions}:{teamMembers:s})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.statusCode?d.b.error(t.message):(e.setUserEvent(t),d.b.success("teammate removed successfully!!")),console.log(t)}),(function(e){console.log(e),d.b.error(" Please try again")}))}(t.id)}})}return Object(w.jsxs)("div",{children:[e.userEvent.teamMembers&&se(e.userEvent.teamMembers,e.minTeamSize,e.maxTeamSize)&&Object(w.jsx)(b.a,{style:{marginTop:"15px",marginBottom:"15px"},message:se(e.userEvent.teamMembers,e.minTeamSize,e.maxTeamSize),showIcon:!0,type:"error"}),Object(w.jsx)("h3",{style:{fontWeight:"bold"},children:"Team Members"}),e.userEvent.teamMembers.map((function(t){if(t.id===e.uId)return Object(w.jsx)("div",{style:{marginTop:"10px",marginBottom:"10px"},children:t.name+" ("+t.ragamID+") (You)"})})),Object(w.jsx)("div",{style:{width:"250px",marginTop:"10px"},id:"myreg_teammates",children:e.userEvent.teamMembers.map((function(t){if(t.id!=e.uId)return Object(w.jsxs)(F.a,{style:{marginTop:"10px"},children:[Object(w.jsx)(B.a,{span:20,style:{display:"flex",alignItems:"center"},children:Object(w.jsx)("h4",{style:{margin:0},children:t.name+" ("+t.ragamID+")"})}),Object(w.jsx)(B.a,{span:4,children:N()(e.regEndDate).diff(N()())>0&&Object(w.jsx)(u.a,{danger:!0,id:"MyReg_removefromteam"+t.id,type:"primary",style:{marginLeft:"10px"},onClick:function(){N()(e.regEndDate).diff(N()())<0?d.b.error("Cannot Edit Team as Registration has ended!"):x({id:t.ragamID,name:t.name?t.name:"UnNamed user"})},children:"-"})})]},t.id)}))}),-1==i&&Object(w.jsxs)("div",{style:{marginTop:"15px"},children:[Object(w.jsx)(U.a,{"data-test-id":"add-member-inp",placeholder:"RAGAM ID of teammate",onChange:function(t){var s=t.target.value.toUpperCase();s.match(f)?!function(e,t){for(var s in e)if(e[s].ragamID==t)return!1;return!0}(e.userEvent.teamMembers,s)?p({type:1,value:"User is already present your the team"}):(p({type:2,value:"Loading..."}),fetch(C+"users/"+s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}}).then((function(e){return e.json()})).then((function(e){"Invalid ID"==e.message?p({type:1,value:"No user found with Ragam ID "+s}):e.statusCode?d.b.error(e.message,5):(p({type:3,value:"User found: "+e.name+" ( "+e.collegeName+" )"}),j({id:e.id,name:e.name,ragamID:s,collegeName:e.collegeName}))}),(function(e){console.log(e),d.b.error(" Please try again")}))):p({type:1,value:"Enter a valid Ragam ID"})}}),Object(w.jsx)(b.a,{style:{marginTop:"15px",marginBottom:"15px"},message:h.value,showIcon:!0,type:1==h.type?"error":2==h.type?"info":"success"}),-1!=l.id&&Object(w.jsxs)(u.a,{id:"myreg_addteammate",style:{marginRight:"15px"},onClick:function(){if(N()(e.regEndDate).diff(N()())<0)p({type:1,value:"Cannot edit team. Registration has ended"});else{console.log(e.userEvent.submissions),p({type:2,value:"Submitting..."});var t=e.userEvent.teamMembers,s=Object(J.a)(t);s.push(l),fetch(C+"user-event-details/"+e.userEvent.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify(e.isSubmissionEvent?{teamMembers:s,submissions:e.userEvent.submissions}:{teamMembers:s})}).then((function(e){return e.json()})).then((function(t){console.log(t),400==t.statusCode?p({type:1,value:"User "+l.ragamID+" is already registered for this event in another team"}):t.statusCode?d.b.error(t.message,5):(console.log(t),e.setUserEvent(t),j({id:-1,name:"",ragamID:"",collegeName:""}),n(-2),d.b.success("Added teammate successfully")),console.log(t)}),(function(e){console.log(e),d.b.error(" Please try again")}))}},children:[" ","ADD"," "]}),Object(w.jsx)(u.a,{id:"myreg_cancel",onClick:function(){j({id:-1,name:"",ragamID:"",collegeName:""}),p({type:1,value:"Enter a valid Ragam ID"}),n(-2)},children:"Cancel"})]}),e.userEvent.teamMembers.length<e.maxTeamSize&&-2==i&&N()(e.regEndDate).diff(N()())>0&&Object(w.jsx)(u.a,{id:"myreg_addmember",style:{marginTop:"15px"},onClick:function(){N()(e.regEndDate).diff(N()())<0?d.b.error("Cannot edit team. Registration has ended",5):(j({id:-1,name:"",ragamID:"",collegeName:""}),p({type:1,value:"Enter a valid Ragam ID"}),n(-1))},children:"Add Member"}),N()(e.regEndDate).diff(N()())>0&&Object(w.jsx)(b.a,{style:{marginTop:"15px",marginBottom:"15px"},message:"You won't be able to edit the team after registration ends ( "+N()(e.regEndDate).format("DD MMMM hh mm a")+" )",showIcon:!0,type:"info"})]})}var ie=s(178),ne=s.n(ie),re=s(313);function oe(e){var t=[];if(e)for(var s in e)t.push({uid:e[s].id.toString(),name:e[s].name,url:C.slice(0,-1)+e[s].url,size:e[s].size,type:e[s].mime});return t}function ce(e){var t,s,i,n=Object(O.h)().eId;N.a.extend(ee.a);var r=Object(a.useState)(),c=Object(o.a)(r,2),l=c[0],g=c[1],b=Object(a.useState)(),m=Object(o.a)(b,2),h=m[0],p=m[1],f=Object(a.useState)(!0),v=Object(o.a)(f,2),y=v[0],D=v[1],I=Object(a.useState)({isValid:!1,eventId:0,catId:0,inCatId:0,userEventId:-1}),k=Object(o.a)(I,2),R=k[0],T=k[1],z=Object(a.useState)(!1),M=Object(o.a)(z,2),A=M[0],U=M[1],F=Object(a.useState)(),B=Object(o.a)(F,2),Y=B[0],V=B[1],K=Object(a.useState)(),G=Object(o.a)(K,2),H=G[0],Z=G[1],$=Object(a.useState)([]),se=Object(o.a)($,2),ie=se[0],ce=se[1];function le(){if(l){var t=[];if(N()(null===h||void 0===h?void 0:h.regEndDate).diff(N()())<0)return d.b.error("Cannot unregister as registration has closed."),void U(!1);for(var s in l.teamMembers)l.teamMembers[s].id!=e.user.id&&t.push(l.teamMembers[s]);t.length>0?fetch(C+"user-event-details/"+l.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.user.token},body:JSON.stringify({teamMembers:t,submissions:l.submissions})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.statuscode?d.b.error(t.message):(e.getUserEvents(),d.b.success("Unregistered successfully"),pe.goBack()),console.log(t)}),(function(e){console.log(e),d.b.error("Some error occured. Please try again")})):fetch(C+"user-event-details/"+l.id,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.user.token}}).then((function(e){return e.json()})).then((function(t){console.log(t),t.statuscode?d.b.error(t.message):(e.getUserEvents(),d.b.success("Unregistered successfully"),pe.goBack()),console.log(t)}),(function(e){console.log(e),d.b.error("Some error occurred. Please try again")}))}}var de=Object(a.useCallback)((function(){if(l&&H&&h){if(N()(h.submissionEndDate).diff(N()())<-9e5)return d.b.error("Submission time has ended."),Y.resolve(!1),void U(!1);N()(h.submissionEndDate).diff(N()())>-9e5&&N()(h.submissionEndDate).diff(N()())<0&&console.log("HEREERERRERERR");var t=[];for(var s in l.submissions)l.submissions[s].id!=parseInt(H.uid,10)&&t.push(l.submissions[s]);U(!1),fetch(C+"user-event-details/"+l.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.user.token},body:JSON.stringify({submissions:t})}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.statuscode)d.b.error(e.message),U(!1);else{d.b.success("file "+H.name+" removed successfully.");var s=Object(P.a)(Object(P.a)({},l),{},{submissions:t});g(s),ce(oe(t)),U(!1),Y&&Y.resolve&&Y.resolve(!0)}console.log(e)}),(function(e){console.log(e),d.b.error("Some error occurred. Please try again")}))}}),[Y]),ue=Object(a.useCallback)((function(){Y&&Y.resolve&&Y.resolve(!1),U(!1)}),[Y]),je=Object(a.useState)([]),ge=Object(o.a)(je,2);ge[0],ge[1];var be=function(){var t=Object(Q.a)(X.a.mark((function t(s){var a,i,n,r,o,c,u,j,b;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l&&h){t.next=2;break}return t.abrupt("return");case 2:if(a=s.onSuccess,i=s.onError,n=s.file,r=s.onProgress,!(N()(h.submissionEndDate).diff(N()())<-9e5)){t.next=9;break}return d.b.error("Submission time has ended."),i("Submission time has ended"),t.abrupt("return");case 9:N()(h.submissionEndDate).diff(N()())>-9e5&&N()(h.submissionEndDate).diff(N()())<0&&d.b.warning("Submission marked as late",6);case 10:return o=new FormData,c={headers:{Authorization:"Bearer "+e.user.token},onUploadProgress:function(e){var t=Math.floor(e.loaded/e.total*100);r({percent:t})}},o.append("refId",l.id.toString()),o.append("files",n),(u=Object(J.a)(ie)).push({uid:n.uid,size:n.size,percent:0,status:"uploading",name:n.name,type:n.type}),ce(u),console.log(n),t.prev=18,t.next=21,ne.a.post(C+"upload",o,c);case 21:j=t.sent,a("Ok"),console.log("server res: ",j),(b=Object(P.a)({},l)).submissions.push(j.data[0]),g(b),ce(oe(b.submissions)),t.next=35;break;case 30:t.prev=30,t.t0=t.catch(18),console.log("Eroor: ",t.t0),new Error("Some error"),i({err:t.t0});case 35:case"end":return t.stop()}}),t,null,[[18,30]])})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log("I am useEffect");for(var t,s={isValid:!1,eventId:0,catId:0,inCatId:0,userEventId:-1},a=0;a<e.categories.length;a++)for(var i=0;i<e.categories[a].events.length;i++)if(e.categories[a].events[i].slug==n){s={isValid:!0,eventId:e.categories[a].events[i].id,catId:a,inCatId:i,userEventId:-1};break}if(s.isValid)for(var r in e.userDetails.eventDetails)e.userDetails.eventDetails[r].event==s.eventId&&(s.userEventId=e.userDetails.eventDetails[r].id);T(s),-1==s.userEventId?D(!1):(console.log("UseEffect Else"),p(e.categories[s.catId].events[s.inCatId]),t=s.userEventId,console.log("fetching userEventDetail"+t),fetch(C+"user-event-details/"+t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.user.token}}).then((function(e){return e.json()})).then((function(e){console.log(e),e.statusCode?d.b.error(e.message,5):(D(!1),g(e),ce(oe(e.submissions)),console.log(e))}),(function(e){console.log(e),d.b.error("Some error occurred. Please try again")})))}),[e.categories,e.userDetails]);var me,he=x()({maxFontSize:500,minFontSize:100}),pe=(he.fontSize,he.ref,Object(O.f)());return Object(w.jsxs)("div",{children:[Object(w.jsx)(L,{loading:y||e.catLoading}),Object(w.jsx)(E,{mainText:h?h.name:"Loading...",showBack:!0,dashimg:C.slice(0,-1)+(null===h||void 0===h||null===(t=h.coverImage)||void 0===t?void 0:t.url),user:e.user}),y?Object(w.jsx)("div",{children:"Loading.."}):-1==R.userEventId?Object(w.jsx)("div",{children:" Please Make sure that you are registered for this event "}):l&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(w.jsxs)("h3",{children:["participating"==l.status||"knocked_out"==l.status?"Status: ":"Result: "," ",Object(w.jsx)("b",{children:(me=l.status,"participating"==me?"Registered":"knocked_out"==me?"Entry  Knocked Out":"position_1"==me?"First Prize Entry":"position_2"==me?"Runner Up":"position_3"==me?"Second Runner Up":"consolation"==me?"Consolation Prize":"")})," "]}),((null===h||void 0===h||null===(s=h.metaTitles)||void 0===s?void 0:s.length)||(null===h||void 0===h?void 0:h.isTeamEvent))&&Object(w.jsxs)(j.a,{id:"myreg_meta_teammates_card",style:{width:"800px",maxWidth:"95%",margin:"auto",marginTop:"25px"},children:[null===h||void 0===h||null===(i=h.metaTitles)||void 0===i?void 0:i.map((function(e,t){return Object(w.jsxs)("div",{children:[Object(w.jsx)("br",{}),Object(w.jsxs)("h3",{style:{fontWeight:"bold"},children:[" ",e," "]}),l.metaValues&&l.metaValues[t]?l.metaValues[t].startsWith("http")?Object(w.jsx)("a",{href:l.metaValues[t],children:Object(w.jsx)("h4",{children:Object(w.jsx)("u",{children:l.metaValues[t]})})}):Object(w.jsx)("h4",{children:l.metaValues[t]}):Object(w.jsx)("h4",{children:"Not Available "})]},e)})),Object(w.jsx)(W.a,{}),(null===h||void 0===h?void 0:h.isTeamEvent)&&Object(w.jsx)(ae,{minTeamSize:h.minTeamSize,maxTeamSize:h.maxTeamSize,isSubmissionEvent:h.isSubmissionEvent,regEndDate:h.regEndDate,token:e.user.token,userEvent:l,setUserEvent:g,uId:e.user.id,getUserEvents:e.getUserEvents})]}),(null===h||void 0===h?void 0:h.isSubmissionEvent)&&Object(w.jsxs)(j.a,{id:"myreg_submissioncard",style:{width:"800px",maxWidth:"95%",margin:"auto",marginTop:"25px"},children:[h&&N()(h.submissionStartDate).diff(N()())>0?Object(w.jsx)("div",{children:"Submissions open on: "+N()(h.submissionStartDate).format("DD MMMM hh:mm a")}):N()(h.submissionEndDate).diff(N()())<0?Object(w.jsx)("div",{children:"Submissions closed"}):Object(w.jsx)("div",{children:"Submissions close on: "+N()(h.submissionEndDate).format("DD MMMM hh:mm a")}),(null===h||void 0===h?void 0:h.isSubmissionEvent)&&N()(h.submissionStartDate).diff(N()())<0&&Object(w.jsxs)("div",{children:[Object(w.jsxs)("p",{children:["File size limit: ",h.maxFileSize," MB"]}),Object(w.jsx)(_.a,{title:"Delete file",visible:A,onOk:de,onCancel:ue,children:Object(w.jsx)("p",{children:"Are you sure you want to remove this file? "})}),Object(w.jsxs)(q.a.Dragger,{id:"myreg_upload_component",style:{marginTop:"15px"},customRequest:be,onChange:function(e){h&&(N()(h.submissionEndDate).diff(N()())<0||("uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?d.b.success("File ".concat(e.file.name," uploaded successfully")):"error"===e.file.status&&d.b.error("File ".concat(e.file.name,"  upload failed."))))},listType:"picture",className:"upload-list-inline",progress:{showInfo:!0},defaultFileList:oe(l.submissions),fileList:ie,onRemove:function(e){return function(e){return U(!0),Z(e),new Promise((function(e,t){V({resolve:e,reject:t})}))}(e)},multiple:!0,beforeUpload:function(e,t){var s=e.size;return(s/=1e6)<=h.maxFileSize||(d.b.error("File size exceeds the limit of "+h.maxFileSize+"MB,"),!1)},children:[Object(w.jsx)("p",{className:"ant-upload-drag-icon",children:Object(w.jsx)(re.a,{})}),Object(w.jsx)("p",{className:"ant-upload-text",children:"Click / Drag and Drop to Upload"})]})]})]}),h&&Object(w.jsx)(u.a,{id:"myreg_unregister",danger:!0,type:"primary",style:{marginTop:"15px"},onClick:function(){_.a.confirm({title:"Are you sure you want to unregister?",icon:Object(w.jsx)(te.a,{}),content:Object(w.jsxs)("p",{children:[" ","if your team has more than one member, they will still be registered. and they can add you to the team later. Otherwise you will lose your submissions"]}),okText:"OK",cancelText:"Cancel",onOk:le})},children:"Unregister from Event"})]})}),Object(w.jsx)(S,{})]})}var le=function(e){var t=Object(O.f)();return Object(w.jsx)("div",{className:"header_main",children:Object(w.jsxs)("div",{className:"header_dash",style:{backgroundImage:'url("'.concat(K,'")')},children:[Object(w.jsx)("div",{className:"header_buttons",children:Object(w.jsx)("div",{className:"header_backbtn",children:e.showBack&&Object(w.jsx)(u.a,{"data-test-id":"profile-back-btn",id:"Header_profile_back",shape:"circle",icon:Object(w.jsx)(h.a,{}),onClick:function(){return e.backonClick?e.backonClick():t.goBack()}})})}),Object(w.jsx)("div",{className:"header_avatar",children:Object(w.jsx)(p.a,{icon:Object(w.jsx)(v.a,{}),size:100})})]})})},de=s(301);function ue(e){var t,s,i,n,r,c,l=x()({maxFontSize:200,minFontSize:80}),g=(l.fontSize,l.ref,Object(a.useState)([])),b=Object(o.a)(g,2),m=b[0],h=b[1],p=Object(O.f)();return Object(a.useEffect)((function(){if(e.categories&&e.userDetails&&e.user.isLoggedIn){var t=[];for(var s in e.categories)for(var a in e.categories[s].events)for(var i in e.userDetails.eventDetails)e.categories[s].events[a].id==e.userDetails.eventDetails[i].event&&t.push(e.categories[s].events[a]);h(t)}}),[e.userDetails.eventDetails,e.categories]),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:Object(w.jsx)(le,{showBack:!0})}),Object(w.jsx)("div",{children:e.user.isLoggedIn?Object(w.jsxs)("div",{style:{padding:"10px"},children:[Object(w.jsx)(de.a,{className:"center-align",style:{maxWidth:"400px"},columns:[{dataIndex:"left"},{dataIndex:"right"}],dataSource:[{left:"RagamId",right:null===(t=e.userDetails)||void 0===t?void 0:t.ragamID},{left:"Name",right:null===(s=e.userDetails)||void 0===s?void 0:s.name},{left:"Gender",right:(c=e.userDetails.gender,c?"male"==c?"Male":"female"==c?"Female":"other"==c?"Other":"prefer_not_to_say"==c?"Prefer not to say":void 0:"Prefer not to say")},{left:"Institute Name",right:null===(i=e.userDetails)||void 0===i?void 0:i.collegeName},{left:"Phone",right:null===(n=e.userDetails)||void 0===n?void 0:n.phoneNumber},{left:"Referral Code",right:null===(r=e.userDetails)||void 0===r?void 0:r.referralCode}],size:"small",pagination:!1}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(w.jsx)(u.a,{type:"ghost",id:"profile_logout",style:{margin:"10px"},onClick:function(){d.b.success("Logged out Successfully..",2),I(e),p.push("/")},children:"Logout"}),Object(w.jsx)(u.a,{id:"profile_editprofile",type:"primary",style:{margin:"10px"},onClick:function(){p.push("/editprofile")},children:"Edit Profile"})]}),Object(w.jsx)("div",{style:{maxWidth:"200px",marginTop:"40px"},className:"center-align",children:Object(w.jsx)("h2",{children:"Registered Events"})}),Object(w.jsx)("div",{style:{width:"800px",maxWidth:"95vw",margin:"auto"},children:m.map((function(e){var t;return Object(w.jsx)(y.b,{to:"/event/"+e.slug,id:"profile_eventcard_"+e.slug,children:Object(w.jsx)("div",{className:"catCard_mainWrapper",children:Object(w.jsx)(j.a,{className:"catcard",style:{backgroundImage:'url("'.concat(C.slice(0,-1)+(null===(t=e.coverImage)||void 0===t?void 0:t.url),'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"15px",height:"150px"},bodyStyle:{backgroundColor:"rgba(0,0,0,0.55)",height:"100%",borderRadius:"15px 15px 15px 15px"},hoverable:!0,children:Object(w.jsx)("div",{className:"categorytext",children:Object(w.jsx)("h1",{style:{color:"#ffffff",margin:0},children:Object(w.jsx)("b",{children:e.name})})})})},e.slug)},e.slug)}))})]}):Object(w.jsx)("div",{children:" You are not logged in!! "})}),Object(w.jsx)(S,{})]})}var je=s(22),ge=s(183),be=s.p+"static/media/T2.9bf61d65.jpg",me=s.p+"static/media/T1.3808fd42.jpg",he=s.p+"static/media/FRONT.36ec91c5.jpg",pe=s.p+"static/media/BACK.09c3c606.jpg",fe=s.p+"static/media/L1.f42a0902.jpg",xe=s.p+"static/media/L2.45c4687b.jpg",ve=s.p+"static/media/L3.fb5389b8.jpg",Oe=s.p+"static/media/L4.d8038758.jpg",ye=s.p+"static/media/L5.579f896c.jpg",De=s.p+"static/media/L6.4f1249c7.jpg",we=s.p+"static/media/L7.d05c439c.jpg",Ee=s.p+"static/media/L8.dbba11b4.jpg",Se=s.p+"static/media/L9.810b7f19.jpg",Ie=s.p+"static/media/R1.2faaaac7.jpg",Ce=s.p+"static/media/R2.ec7d1d87.jpg",ke=s.p+"static/media/R3.31609c58.jpg",Ne=s.p+"static/media/R4.21fcbb1c.jpg",Re=s.p+"static/media/R5.429d9339.jpg",Le=s.p+"static/media/R6.48f60d16.jpg",Te=s.p+"static/media/R7.39bf4c81.jpg",ze=s.p+"static/media/R8.8620b58e.jpg",Me=s.p+"static/media/R9.0c956157.jpg";function Ae(e){var t=[fe,xe,ve,Oe,ye,De,we,Ee,Se],s=[Ie,Ce,ke,Ne,Re,Le,Te,ze,Me],n=Math.floor(9*Math.random()),r=Object(a.useState)(!0),c=Object(o.a)(r,2),l=c[0],d=c[1],u=Object(a.useRef)(null);return i.a.useEffect((function(){var e,a=new je.m,i=new je.k(75,window.innerWidth/window.innerHeight,.1,1e3),r=new je.r({antialias:!0}),o=new je.p,c=new je.p,l=new je.p(window.innerWidth/2,window.innerHeight/2);r.setSize(window.innerWidth,window.innerHeight),r.shadowMap.enabled=!0,null===(e=u.current)||void 0===e||e.appendChild(r.domElement),r.shadowMap.type=je.j;var j=0;window.addEventListener("resize",(function(){var e=window.innerHeight,t=window.innerWidth;r.setSize(t,e),i.aspect=t/e,i.updateProjectionMatrix()}));window.addEventListener("deviceorientation",(function e(t){console.log(j),t.alpha?j=1:1==j?window.removeEventListener("deviceorientation",e):console.log("set camera position")}));var g=new je.c(80,80,80),b=[new je.i({map:(new je.o).load(s[n]),side:je.b}),new je.i({map:(new je.o).load(t[n]),side:je.b}),new je.i({map:(new je.o).load(be),side:je.b}),new je.i({map:(new je.o).load(me),side:je.b}),new je.i({map:(new je.o).load(pe),side:je.b}),new je.i({map:(new je.o).load(he),side:je.b})],m=new je.h(g,b);a.add(m);var h=new je.a(13421823,.7);a.add(h);var p=new je.d(13421823,.01);p.position.set(0,3,50);var f=new je.d(13421823,.022);f.position.set(20,2.5,50);var x=new je.d(13421823,.022);function v(e){o.x=e.clientX-l.x,o.y=e.clientY-l.x}x.position.set(-20,2.5,50),a.add(p),a.add(f),a.add(x);var O;setTimeout((function(){j?(O=new ge.a(i)).alphaOffset=-1.5708:(document.addEventListener("mousemove",v,!1),console.log("reached here")),d(!1)}),1e3);!function e(){requestAnimationFrame(e),j&&O?O.update():(c.x=.002*(1-o.x),c.y=.002*(1-o.y),i.rotation.x+=.05*(c.y-i.rotation.x),i.rotation.y+=.05*(c.x-i.rotation.y)),r.render(a,i)}()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(L,{loading:l}),Object(w.jsx)("div",{ref:u,style:{width:"100vw",height:"100vh"}}),!l&&Object(w.jsx)("div",{style:{position:"absolute",zIndex:1e3,marginTop:"15px",right:"15px",display:"flex"},children:e.user.isLoggedIn?Object(w.jsx)(y.b,{to:"/profile",children:Object(w.jsx)("button",{className:"btn_home",style:{margin:"auto",transform:"scale(0.7)"},children:"Go to Profile"})}):Object(w.jsx)(y.b,{to:"/login",children:Object(w.jsx)("button",{className:"btn_home",style:{margin:"auto",transform:"scale(0.7)"},children:"Login"})})}),Object(w.jsx)("div",{style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"100vh",width:"100vw",zIndex:999},children:Object(w.jsxs)("div",{style:{margin:"auto",marginBottom:"5px"},children:[Object(w.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(w.jsx)(y.b,{to:"/events",children:Object(w.jsx)("button",{className:"btn_home",children:"Explore Events"})})}),Object(w.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:"auto",marginTop:"50px"},children:[Object(w.jsx)(y.b,{to:"/privacy",style:{marginRight:"15px"},children:Object(w.jsx)("h4",{children:"Privacy"})}),Object(w.jsx)(y.b,{to:"/about",style:{marginRight:"15px"},children:Object(w.jsx)("h4",{children:"About"})}),Object(w.jsx)(y.b,{to:"/termsofservice",children:Object(w.jsx)("h4",{children:"Terms of Service"})})]})})]})})]})}var Pe=function(e){var t;return Object(w.jsx)(y.b,{to:"category/"+e.slug,id:"EventCategoryCard_"+e.slug,children:Object(w.jsx)("div",{className:"catCard_mainWrapper",children:Object(w.jsx)(j.a,{className:"catcard",style:{backgroundImage:"all-events"!=e.slug?'url("'.concat(C.slice(0,-1)+(null===(t=e.bgImage)||void 0===t?void 0:t.url),'")'):'url("'.concat(K,'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"15px",height:"150px"},bodyStyle:{backgroundColor:"rgba(0,0,0,0.55)",height:"100%",borderRadius:"15px 15px 15px 15px"},hoverable:!0,children:Object(w.jsx)("div",{className:"categorytext",children:Object(w.jsx)("h1",{style:{color:"#ffffff",margin:0},children:Object(w.jsx)("b",{children:"all-events"!=e.slug?e.name:"All Events"})})})})})})};function Ue(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(L,{loading:e.catLoading}),Object(w.jsx)(E,{showBack:!0,mainText:"EVENTS",dashimg:K,user:e.user}),e.catLoading?Object(w.jsx)("div",{children:"Loading ..."}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{style:{width:"800px",maxWidth:"95vw",margin:"auto"},children:[Object(w.jsx)(Pe,{slug:"all-events",name:null,bgImage:null}),e.categories.map((function(e){return Object(a.createElement)(Pe,Object(P.a)(Object(P.a)({},e),{},{key:e.slug}))}))]}),Object(w.jsx)(S,{})]})]})}var Fe=function(e){var t=Object(O.f)(),s=Object(a.useState)("Authenticating User..."),n=Object(o.a)(s,2),r=n[0],c=n[1],l=Object(O.g)();return i.a.useEffect((function(){if(l){var s=l.search;console.log(s),fetch("".concat(C,"auth/google/callback?").concat(s),{method:"GET"}).then((function(e){return e.json()})).then((function(s){if(console.log(s),400==s.statusCode)console.log("Nah !!!"),c("user Authentication Failed. You will be redirected to homePage"),setTimeout((function(){t.push("/")}),1e3);else{var a={isLoggedIn:!0,token:"",email:"",id:0,name:"",phoneNumber:""};a.token=s.jwt,a.email=s.user.email,a.id=s.user.id,a.name=s.user.name,a.phoneNumber=s.user.phoneNumber,d.b.success("Logged in Successfully.."),e.setUser(a),localStorage.setItem("user",JSON.stringify(a));var i=localStorage.getItem("navTo");i?(t.push(i),localStorage.removeItem("navTo")):t.push("/")}}))}}),[l]),Object(w.jsx)("div",{children:r})},Be=s(112);function Ye(e){var t,s=Object(O.h)().eId,i=Object(O.f)(),n=Object(a.useState)(e.userDetails.name),r=Object(o.a)(n,2),c=r[0],l=r[1],j=Object(a.useState)(e.userDetails.collegeName),g=Object(o.a)(j,2),b=g[0],m=g[1],h=Object(a.useState)(e.userDetails.phoneNumber),p=Object(o.a)(h,2),f=p[0],x=p[1],v=Object(a.useState)(e.userDetails.referralCode),y=Object(o.a)(v,2),D=y[0],I=y[1],k=Object(a.useState)(e.userDetails.gender),N=Object(o.a)(k,2),R=N[0],L=N[1];Object(a.useEffect)((function(){l(e.userDetails.name),m(e.userDetails.collegeName),x(e.userDetails.phoneNumber),I(e.userDetails.referralCode),L(e.userDetails.gender)}),[e.userDetails]);var T=Object(a.useState)(""),z=Object(o.a)(T,2),M=z[0];z[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{children:Object(w.jsx)(E,{showBack:!0,mainText:"Edit User Profile",dashimg:K,user:e.user})}),e.user.isLoggedIn?""==e.userDetails.ragamID?Object(w.jsx)("div",{children:"loading..."}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)(de.a,{className:"center-align",style:{maxWidth:"400px"},columns:[{dataIndex:"left"},{dataIndex:"right"}],dataSource:[{left:"RagamId",right:null===(t=e.userDetails)||void 0===t?void 0:t.ragamID},{left:"Name",right:Object(w.jsx)(U.a,{"data-test-id":"name-inp",defaultValue:e.userDetails.name,placeholder:"Name",onChange:function(e){l(e.target.value)}})},{left:"Gender",right:Object(w.jsxs)(Be.a,{size:"large",defaultValue:e.userDetails.gender?e.userDetails.gender:"prefer_not_to_say",onChange:function(e){L(e),console.log(e)},children:[Object(w.jsx)(Be.a.Option,{value:"prefer_not_to_say",children:"Prefer not to say"}),Object(w.jsx)(Be.a.Option,{value:"male",children:"Male"}),Object(w.jsx)(Be.a.Option,{value:"female",children:"Female"}),Object(w.jsx)(Be.a.Option,{value:"other",children:"Other"})]})},{left:"Institute Name",right:Object(w.jsx)(U.a,{"data-test-id":"college-inp",defaultValue:e.userDetails.collegeName,placeholder:"Institute Name",onChange:function(e){m(e.target.value)}})},{left:"Phone",right:Object(w.jsx)(U.a,{"data-test-id":"phone-inp",defaultValue:e.userDetails.phoneNumber,placeholder:"10 digit Phone",onChange:function(e){x(e.target.value)}})},{left:"Referral Code",right:Object(w.jsx)(U.a,{"data-test-id":"ref-inp",defaultValue:e.userDetails.referralCode,placeholder:"Optional",onChange:function(e){I(e.target.value)}})}],size:"small",pagination:!1}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{children:M}),Object(w.jsx)("br",{})]}),Object(w.jsx)(u.a,{id:"Editprofile_submitbtn",type:"primary",className:"center-align",onClick:function(){c?b?f?fetch(C+"users/"+e.userDetails.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.user.token},body:JSON.stringify({name:c,phoneNumber:f,collegeName:b,gender:R,referralCode:D})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.statuscode?d.b.error(t.message):(console.log(t),d.b.success("Profile updated successfully",5),e.setUserDetails(t),s?i.push("/event/"+s):i.push("/profile")),console.log(t)}),(function(e){console.log(e),d.b.error(" Some error occurred. Please try again later")})):d.b.error("Enter a valid phone number",5):d.b.error("Enter a valid college name",5):d.b.error("Enter a valid name",5),console.log(JSON.stringify({name:c,collegeName:b,phone:f}))},children:"Submit"}),Object(w.jsx)(S,{})]}):Object(w.jsx)("div",{children:"You are not logged in"})]})}function We(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{showBack:!0,mainText:"Privacy",dashimg:K,user:e.user}),Object(w.jsxs)(j.a,{style:{width:"700px",maxWidth:"95vw",margin:"auto"},children:[Object(w.jsx)("h3",{children:"What we collect"}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:"Your name "}),Object(w.jsx)("li",{children:"Name of the college "}),Object(w.jsx)("li",{children:" Phone number"}),Object(w.jsx)("li",{children:" Gender"}),Object(w.jsx)("li",{children:" List of events you are registered for"}),Object(w.jsx)("li",{children:" Submissions you upload for each event"})]}),Object(w.jsx)("h3",{children:"Data retention policy"}),Object(w.jsxs)("ul",{children:[Object(w.jsxs)("li",{children:[" ","For the events you have participated, we will generate a participation certificate containing your name, college name and your result for that event. This certificate will be perpetually stored in our certificate server. You may unregister before the registration closes to avoid this."]}),Object(w.jsxs)("li",{children:[" ","The submissions you upload will be kept till July 2021. You may also delete the submissions before the submissions closing deadline"]})]}),Object(w.jsx)("h3",{children:"Data sharing policy"}),Object(w.jsxs)("ul",{children:[Object(w.jsxs)("li",{children:[" ","Your name, college name, mobile number and gender will be shared to next year\u2019s Ragam team."]}),Object(w.jsxs)("li",{children:[" ","Your submissions will be shared to the judges of corresponding events."]})]})]})]})}function Ve(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{showBack:!0,mainText:"About",dashimg:K,user:e.user}),Object(w.jsx)(j.a,{style:{width:"700px",maxWidth:"95vw",margin:"auto"},children:Object(w.jsx)(l.a.Paragraph,{children:"Ever since it began as an ode to a fallen hero, Ragam has always been clear about the message it conveys ; to always be creative and persistent in all our endeavours. In these troubling times when uncertainty is all around us, Ragam is here once again to remind us that change is inevitable and that we must learn to adapt to new normals. Let the cultural renaissance that Ragam is, ignite an eternal flame within you all to strive, to seek and to not yield in the face of adversity."})})]})}function Ke(){return Object(w.jsxs)(B.a,{style:{width:"100%",height:"100vh"},children:[Object(w.jsx)(F.a,{children:Object(w.jsx)(l.a.Title,{style:{margin:"auto",marginTop:"200px"},children:"Login"})}),Object(w.jsx)(F.a,{align:"middle",style:{margin:"auto"},children:Object(w.jsx)("a",{href:C+"connect/google",id:"Header_login",style:{margin:"auto",marginTop:"30px"},children:Object(w.jsx)("img",{src:"data:image/png;base64,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",style:{display:"block",width:"160px"}})})})]})}function Ge(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(E,{showBack:!0,mainText:"Terms of Service",dashimg:K,user:e.user}),Object(w.jsxs)(j.a,{style:{width:"700px",maxWidth:"95vw",margin:"auto"},children:[Object(w.jsx)(l.a.Paragraph,{children:"By using this app, the participants agree that they have carefully read and agree to the general Ragam guidelines and event rules and guidelines for the events you are participating."}),Object(w.jsx)(l.a.Paragraph,{children:"In case of any dispute regarding any aspect of Ragam, the decision made by the Ragam team will be final."}),Object(w.jsx)(l.a.Paragraph,{children:"All the services provided through this app are provided on a best effort basis. We will not be held responsible for any losses you encounter by the use of this app, including but not limited to loss of participation, loss of submission files etc."}),Object(w.jsx)(l.a.Paragraph,{children:"We will be committed to working towards the best interests of the participants and making your experience a smooth one."})," "]})]})}var He=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),s=t[0],i=t[1],n=Object(a.useState)(!0),r=Object(o.a)(n,2),c=r[0],l=r[1],u=Object(a.useState)({isLoggedIn:!1,token:"",email:"",id:0,name:"",phoneNumber:""}),j=Object(o.a)(u,2),g=j[0],b=j[1],m=Object(a.useState)({id:0,email:"",name:"",phoneNumber:"",created_at:"",updated_at:"",ragamID:"",collegeName:"",referralCode:"",gender:"",eventDetails:Array()}),h=Object(o.a)(m,2),p=h[0],f=h[1];function x(){console.log("got Profie"),l(!0),g.isLoggedIn&&fetch(C+"users/me",{method:"GET",headers:{Authorization:"Bearer "+g.token}}).then((function(e){return e.json()})).then((function(e){401==e.statusCode?(I({categories:s,catLoading:c,userDetails:p,user:g,setUser:b}),d.b.error("Session Expired! Please Login again.",5)):e.statusCode?d.b.error(e.message,5):(console.log(g.token),f(e),l(!1))}))}return Object(a.useEffect)((function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);b(t)}fetch(C+"categories").then((function(e){if(e.ok)return e.json();d.b.error("Some error Occurred. Please try again later.")})).then((function(e){for(var t in e)for(var s in e[t].events){var a=N()(e[t].events[s].regStartDate),n=N()(),r=N()(e[t].events[s].regEndDate);e[t].events[s].isRegOpen=a.diff(n)<0&&r.diff(n)>0}console.log(e),i(e),l(!1)}))}),[]),Object(a.useEffect)((function(){g.isLoggedIn&&x()}),[g.isLoggedIn]),Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(y.a,{children:Object(w.jsxs)(O.c,{children:[Object(w.jsx)(O.a,{exact:!0,path:"/",children:Object(w.jsx)(Ae,{categories:s,catLoading:c,userDetails:p,user:g,setUser:b})}),Object(w.jsx)(O.a,{path:"/auth/callback",children:Object(w.jsx)(Fe,{categories:s,catLoading:c,userDetails:p,user:g,setUser:b})}),Object(w.jsx)(O.a,{path:"/events",children:Object(w.jsx)(Ue,{categories:s,catLoading:c,userDetails:p,user:g,setUser:b})}),Object(w.jsx)(O.a,{path:"/profile",children:Object(w.jsx)(ue,{categories:s,catLoading:c,userDetails:p,user:g,setUser:b})}),Object(w.jsx)(O.a,{path:"/category/:cId",children:Object(w.jsx)(H,{categories:s,catLoading:c,userDetails:p,user:g,setUser:b})}),Object(w.jsx)(O.a,{path:"/privacy",children:Object(w.jsx)(We,{categories:s,catLoading:c,userDetails:p,user:g,setUser:b})}),Object(w.jsx)(O.a,{path:"/about",children:Object(w.jsx)(Ve,{categories:s,catLoading:c,userDetails:p,user:g,setUser:b})}),Object(w.jsx)(O.a,{path:"/termsofservice",children:Object(w.jsx)(Ge,{categories:s,catLoading:c,userDetails:p,user:g,setUser:b})}),Object(w.jsx)(O.a,{path:"/event/:eId",children:Object(w.jsx)(A,{categories:s,catLoading:c,userDetails:p,user:g,getUserEvents:x,setUser:b})}),Object(w.jsx)(O.a,{path:"/myreg/:eId",children:Object(w.jsx)(ce,{categories:s,catLoading:c,userDetails:p,user:g,getUserEvents:x,setUser:b})}),Object(w.jsx)(O.a,{path:"/editprofile/:eId",children:Object(w.jsx)(Ye,{categories:s,catLoading:c,userDetails:p,user:g,getUserEvents:x,setUser:b,setUserDetails:f})}),Object(w.jsx)(O.a,{path:"/editprofile",children:Object(w.jsx)(Ye,{categories:s,catLoading:c,userDetails:p,user:g,getUserEvents:x,setUser:b,setUserDetails:f})}),Object(w.jsx)(O.a,{path:"/login",children:Object(w.jsx)(Ke,{})})]})})})},Ze=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,314)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),a(e),i(e),n(e),r(e)}))};r.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(He,{})}),document.getElementById("root")),Ze()}},[[298,1,2]]]);
//# sourceMappingURL=main.891c41b9.chunk.js.map